main:
  ; Set up Palitro mode
  mov %ax $01
  mov #49FF00 %ax

  mov %si $4A0000
  mov %ax $1488
  stow %si %ax
  mov %ax $7FFF
  stow %si %ax
  int $12

  mov %si $400000
  mov %bx %si
  mov %cx 0
.L1:
  int 1
  pop %dx
  cmp %dx $04
  je .term
  cmp %dx $0A
  je .newline
  ; sub %dx 'a'
  mul %dx 8
  mov %gi sprite_8x8
  add %gi %dx
  mov %ax $01
  int $14
  int $11
  add %si 10
  jmp .L1
.newline:
  mov %si %bx
  add %si 6400
  mov %bx %si
  jmp .L1

.term:
  hlt
sprite_8x8: bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $00 $00 $00 $00 $00 $00 $00 $00
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $18 $18 $18 $18 $18 $18 $00 $18 ; !
            bytes $3C $42 $42 $42 $7E $42 $42 $42 ; A
            bytes $FE $81 $81 $FE $81 $81 $81 $FE ; B
            bytes $7E $81 $80 $80 $80 $80 $81 $7E ; C
